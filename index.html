<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Peakbase - visualize your visited peaks!</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <meta name="author" content="Erik Johannes Husom">
        <meta name="description" content="A minimalistic tool for peak baggers.">

        <link href="css/style.css" rel="stylesheet" type="text/css" title="Stylesheet">
        <link rel="stylesheet" href="js/leaflet/leaflet.css" />
        <link rel="stylesheet" href="js/markercluster/MarkerCluster.css" />
        <link rel="stylesheet" href="js/markercluster/MarkerCluster.Default.css" />

        <script src="js/leaflet/leaflet.js"></script>
        <script src="js/markercluster/leaflet.markercluster.js"></script>
        <!-- <script src='https://cdn.plot.ly/plotly-latest.min.js'></script> -->
    </head>

    <header>
        <nav class="main-nav">
            <a href="https://erikjohannes.no">erikjohannes.no</a>
            <a href="#instructions">Instructions</a>
            <!-- <a href="https://github.com/ejhusom/peakbase">source code</a> -->
        </nav>
        <h1>Peakbase</h1>
        <span class="subheading">A minimalistic tool for peak baggers</span>
        
        <!-- <nav class="main-nav"> -->
        <!-- </nav> -->
    </header>
    
    <body>
        <div id="upload-box">
            <p>Upload your existing Peakbase here (only .gpx or .json):</p>
            <input type="file" id="file-selector">
            <button id="import">Import</button>
            <p>...or start registering peak ascents by double clicking on the
            map below:</p>
        </div>


        <div class="mapEditContainer">
            <div id="map"></div>

            <div id="editContainer">
                <div id="download-box">
                    <p>When you are done, download your Peakbase:</p>
                    <button id="download" onclick="writePeaksToGPX([peaks_unvisited,
                                          peaks_visited])">Download GPX</button>
                    <button id="downloadJSON"
                            onclick="writePeaksToJSON([peaks_unvisited,
                            peaks_visited])">Download JSON (beta)</button>
                </div>
                <div id="peaksStatistics">
                    <h4 id="numVisitedPeaks"> Number of peaks visited: </h4>
                    <h4 id="numUnvisitedPeaks"> Number of peaks not visited: </h4>
                </div>
                <hr>
                <div id="peakInfo">
                    <h3>Selected peak</h3>
                    <h4>Name:</h4>
                    <div id="selectedPeakName"></div>
                    <h4>Elevation:</h4>
                    <div id="selectedPeakEle"></div>
                    <h4>Lat:</h4>
                    <div id="selectedPeakLat"></div>
                    <h4>Lon:</h4>
                    <div id="selectedPeakLon"></div>
                    <h4>Ascents:</h4>
                    <div id="selectedPeakAscents"></div>
                </div>
                <hr>
                <div class="form-popup" id="newAscentForm">
                    <h3>New ascent</h3>
                    <label for="ascentDate">Date of ascent</label>
                    <input class="block" type="date" id="ascentDate"
                                                     placeholder="dd-mm-yyyy" required>

                    <button class="btn" onclick="saveNewAscent()">Save</button>
                    <button class="btn-cancel"
                                          onclick="changeFormDisplay('newAscentForm',
                                                   'none')">Cancel</button>
                </div>
                <div class="form-popup" id="newPeakForm">
                    <h3>New peak</h3>
                    <label for="newPeakName">Name of peak</label>
                    <input class="block" type="text" placeholder="Enter peak
                                  name" id="newPeakName"
                                        required>
                    <label for="newPeakEle">Elevation of peak</label>
                    <input class="block" type="text" placeholder="Enter peak elevation"
                                       id="newPeakEle" required>
                    <label for="newPeakLat">Lat</label>
                    <input class="block" id="newPeakLat" required>
                    <label for="newPeakLon">Lon</label>
                    <input class="block" id="newPeakLon" required>

                    <button class="btn" onclick="saveNewPeak()">Save</button>
                    <button class="btn-cancel"
                                          onclick="changeFormDisplay('newPeakForm',
                                                   'none')">Cancel</button>
                </div>
            </div>
        </div>


        <article>
            <h2 id="instructions">Instructions</h2>

            <p>
                UNDER DEVELOPMENT.
            </p>

            <p>
                <ol>
                    <li>Double click on points in the map corresponding to the
                    peak you want to register, and add the name and elevation
                    of the peak. Popup boxes will ask whether you have visited
                    the peak or not, and lastly whether you want to save it.</li>
                    <li>Your Peakbase-list can contain both peaks you have
                        visited (blue colour) and peaks you haven't visited
                        (red colour).</li>
                    <li>When you are done registering your peaks, download the
                        GPX-file containing all your peaks, which you later can
                        upload for further editing. The concept of Peakbase is
                        that you store your data (your GPX-file) wherever you
                        like, and import it into Peakbase when you want to edit
                        it. This way you don't have to make a user account or
                        trust anyone elses server.
            </p>


    
    </body>

    <script type="text/javascript" src="js/peakbase.js"></script>

</html>
