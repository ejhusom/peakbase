<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Peakbase - visualize your visited peaks!</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <meta name="author" content="Erik Johannes Husom">
        <meta name="description" content="A minimalistic tool for peak baggers.">

        <link href="css/style.css" rel="stylesheet" type="text/css" title="Stylesheet">
        <link rel="stylesheet" href="js/leaflet/leaflet.css" />
        <link rel="stylesheet" href="js/markercluster/MarkerCluster.css" />
        <link rel="stylesheet" href="js/markercluster/MarkerCluster.Default.css" />

        <script src="js/leaflet/leaflet.js"></script>
        <script src="js/markercluster/leaflet.markercluster.js"></script>
    </head>

    <header>
        <!-- <nav class="main-nav"> -->
        <!--     <a href="https://erikjohannes.no">erikjohannes.no</a> -->
        <!--     <a href="#instructions">Instructions</a> -->
        <!--     <1!-- <a href="https://github.com/ejhusom/peakbase">source code</a> --1> -->
        <!-- </nav> -->
        <h1>Peakbase</h1>
        <span class="subheading">A minimalistic tool for peak baggers</span>
    </header>
    
    <body>
        <div id="upload-box">
            <p>Upload your existing Peakbase here (only .gpx or .json):</p>
            <input type="file" id="file-selector">
            <button id="import">Import</button>
            <p>...or start registering peak ascents by double clicking on the
            map below:</p>
        </div>
        <div class="mapEditContainer">
            <div id="map"></div>

            <div id="editContainer">
                <div id="download-box">
                    <p>When you are done, download your Peakbase:</p>
                    <button id="downloadJSON"
                            onclick="writePeaksToJSON([peaks_unvisited,
                            peaks_visited])">Download JSON</button>
                    <button id="download" onclick="writePeaksToGPX([peaks_unvisited,
                                          peaks_visited])">Download GPX (ascent
                    dates not included)</button>
                </div>
                <hr>
                <div id="peaksStatistics">
                    <h4 id="numVisitedPeaks"> Number of peaks visited: </h4>
                    <h4 id="numUnvisitedPeaks"> Number of peaks not visited: </h4>
                </div>
                <hr>
                <div id="peakInfo">
                    <h3>Selected peak</h3>
                    <h4>Name:</h4>
                    <div id="selectedPeakName"></div>
                    <h4>Elevation:</h4>
                    <div id="selectedPeakEle"></div>
                    <h4>Lat:</h4>
                    <div id="selectedPeakLat"></div>
                    <h4>Lon:</h4>
                    <div id="selectedPeakLon"></div>
                    <h4>Ascents:</h4>
                    <div id="selectedPeakAscents"></div>
                </div>
                <hr>
                <div class="form-popup" id="newAscentForm">
                    <h3>New ascent</h3>
                    <label for="ascentDate">Date of ascent</label>
                    <input class="block" type="date" id="ascentDate"
                                                     placeholder="dd-mm-yyyy" required>

                    <button class="btn" onclick="saveNewAscent()">Save</button>
                    <button class="btn-cancel"
                                          onclick="changeFormDisplay('newAscentForm',
                                                   'none')">Cancel</button>
                </div>
                <div class="form-popup" id="newPeakForm">
                    <h3>New peak</h3>
                    <label for="newPeakName">Name of peak</label>
                    <input class="block" type="text" placeholder="Enter peak
                                  name" id="newPeakName"
                                        required>
                    <label for="newPeakEle">Elevation of peak</label>
                    <input class="block" type="text" placeholder="Enter peak elevation"
                                       id="newPeakEle" required>
                    <label for="newPeakLat">Lat</label>
                    <input class="block" id="newPeakLat" required>
                    <label for="newPeakLon">Lon</label>
                    <input class="block" id="newPeakLon" required>

                    <button class="btn" onclick="saveNewPeak()">Save</button>
                    <button class="btn-cancel"
                                          onclick="changeFormDisplay('newPeakForm',
                                                   'none')">Cancel</button>
                </div>
            </div>
        </div>


        <article>
            <h2 id="instructions">Usage</h2>

            <p>
                <h3>Map legend</h3>
                <ul>
                    <li>Red markers: Peaks not visited.</li>
                    <li>Blue markers: Peaks visitied.</li>
                </ul>
                <h3>Add peaks to your peakbase-file</h3>
                <ul>
                    <li>
                        Double click on map to add a point.
                        <ul>
                            <li>Enter name and elevation of point.</li>
                            <li>Click "Save" to save peak.</li>
                        </ul>
                    </li>
                </ul>
                <h3>Register peak as visited</h3>
                <ul>
                    <li>Click on red markers (unvisited peaks) and confirm to
                        mark them as visited.</li>
                </ul>
                <h3>Register ascent with date</h3>
                <ul>
                    <li>Click on blue markers to view previous ascents, or
                        register new ones.</li>

                </ul>
                <h3>Download your peakbase-file</h3>
                <ul>
                    <li>When you are done with registering peaks, download your
                    peakbase-file as .gpx or .json with the buttons in the top
                    right corner beside the map.</li>
                    <ul>
                        <li><b>IMPORTANT:</b> Only the JSON-version of the peakbase-file will contain the
                            dates of your ascents. The gpx-file only contains the peaks
                            and whether they are visited or not.</li>
                    </ul>
                </ul>
                <h3>General tips</h3>
                <ul>
                    <li>While JSON is the preferred format for Peakbase (since
                    this is more flexible, and allows storing for example
                    ascent dates), the tool also accepts GPX-files. This is
                    useful, since you can import files downloaded from for
                    example <a href="https://peakbook.org">peakbook.org</a>.</li>

                </ul>
            </p>

            <h2 id="about">About</h2>

            <p>Peakbase is a minimalistic tool for peak baggers (those who
            collect ascents of peaks). The functionality consists of:

            <ul>
                <li>Collect and visualize peaks you have not visited yet.</li>
                <li>Collect and visualize peaks you have visited.</li>
                <li>Register how many times you have visited a peak, and on
                    which dates.</li>
            </ul>

            The tool is designed with the following things in mind:

            <ul>
                <li><b>You control your own data, and everything the tool does
                    happens locally in your browser (except loading the
                    background map).</b> This means that you don't have to
                create a user account, or keep your personal data on anyone
                elses server. It also means that you can download this tool and
                keep it stored offline, and it will be usable forever, totally
                independent of whether the developer of Peakbase keeps the tool
                online or not.</li>
            </ul>

            Other things to keep in mind:

            <ul>
                <li><b>IMPORTANT:</b> Only the JSON-version of the peakbase-file will contain the
                    dates of your ascents. The gpx-file only contains the peaks
                    and whether they are visited or not.</li>
            </ul>
        </article>


    
    </body>

    <footer>
        <p>
        Homepage of developer:
            <a href="https://erikjohannes.no">erikjohannes.no</a>
        </p>
        <p>
        Source code:
            <a href="https://github.com/ejhusom/peakbase">https://github.com/ejhusom/peakbase</a>
        </p>
    </footer>

    <script type="text/javascript" src="js/peakbase.js"></script>

</html>
